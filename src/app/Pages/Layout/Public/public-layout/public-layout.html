<!-- Header -->
<app-header></app-header>

<!-- Main Content - Full Width for Home Page -->
<main class="min-h-[80vh] w-full">
  <router-outlet></router-outlet>
</main>

<!-- Footer -->
<app-footer></app-footer>

<!-- Chat Bot - Available on all public pages -->
<app-chat-bot></app-chat-bot>

<!-- Floating Action Buttons - Available on all public pages -->
<div
  class="fixed right-3 sm:right-0 bottom-4 sm:bottom-6 flex flex-col gap-2 sm:gap-3 z-40 [&_a]:no-underline [&_a:hover]:no-underline">
  <!-- Social Media Links -->
  <div class="flex flex-col gap-2"></div>

  <!-- WhatsApp Button -->
  <a href="https://wa.me/917275380105" target="_blank" rel="noopener noreferrer"
    class="flex items-center gap-2 bg-green-500 hover:bg-green-600 text-white px-3 sm:px-4 py-2.5 sm:py-3 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105"
    title="WhatsApp Enquiry">
    <i class="ri-whatsapp-fill text-lg sm:text-xl"></i>
    <span class="hidden sm:inline text-sm font-semibold">WhatsApp</span>
  </a>

  <!-- Login Button -->
  <!-- <button (click)="openLogin('admin')"
    class="flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-3 sm:px-4 py-2.5 sm:py-3 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105"
    title="Admin Login">
    <i class="ri-shield-user-line text-lg sm:text-xl"></i>
    <span class="hidden sm:inline text-sm font-semibold">Login</span>
  </button> -->

  <!-- Enquiry Button -->
  <button (click)="openEnquiry()"
    class="flex items-center gap-2 bg-purple-600 hover:bg-purple-700 text-white px-3 sm:px-4 py-2.5 sm:py-3 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105"
    title="Quick Enquiry">
    <i class="ri-customer-service-2-line text-lg sm:text-xl"></i>
    <span class="hidden sm:inline text-sm font-semibold">Enquiry</span>
  </button>

  <!-- Chat Bot Button - Only on Home Page (Full Original Design) -->
  @if (isHomePage) {
    <button 
      (click)="toggleChat()"
      class="w-14 h-14 xs:w-16 xs:h-16 sm:w-18 sm:h-18 md:w-20 md:h-20 bg-gradient-to-br from-green-600 via-green-600 to-green-700 hover:from-green-500 hover:via-green-500 hover:to-green-600 text-white rounded-full shadow-2xl hover:shadow-3xl transition-all duration-300 z-50 flex items-center justify-center group relative overflow-hidden"
      [class.animate-bounce]="!chatIsOpenState"
      title="Chat with us">
      <!-- Shimmer Effect -->
      <div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700"></div>
      <!-- Pulse Ring -->
      <div class="absolute inset-0 rounded-full border-2 border-green-400 opacity-0 group-hover:opacity-100 animate-ping"></div>
      
      <i class="ri-message-3-fill text-2xl xs:text-3xl sm:text-4xl relative z-10 group-hover:scale-110 transition-transform duration-300"
        [ngClass]="{'ri-close-line': chatIsOpenState, 'ri-message-3-fill': !chatIsOpenState}"></i>
      
      <!-- Notification Badge -->
      @if (!chatIsOpenState) {
        <div class="absolute -top-1 -right-1 xs:-top-1.5 xs:-right-1.5 w-4 h-4 xs:w-5 xs:h-5 bg-red-500 rounded-full border-2 border-white animate-pulse"></div>
      }
    </button>
  }
</div>